<%- include('../layouts/header.ejs') %>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<style>
     body {
        font-family: 'Arial', sans-serif;
        margin: 0;
        padding: 0;
        background-color: #e7ebe9; /* Set a different background color */
    }

    .card-container {
       /* Set the height of the card */
        margin: 20px; /* Provide space on all sides of the card */
        padding: 20px;
        border: 2px solid #d9e7e4; /* Add a border to the card with the desired color */
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(206, 23, 23, 0.1);
        background-color: #fff;
    }

    .custom-table {
        display: block;
    }

    .custom-column {
        float: left;
    }

    .custom-column:first-child {
        width: 33.33%; /* Set the width of the first column (4 parts out of 12) */
    }

    .custom-column:last-child {
        width: 66.66%; /* Set the width of the second column (8 parts out of 12) */
    }

    .custom-cell {
        padding: 10px;
        text-align: right; /* Align the content to the right within the cell */
    }

    .custom-menu {
        list-style-type: none;
        padding: 0;
        display: flex;
    }

    .custom-menu-item {
        margin-right: 20px;
    }

    .custom-menu-link {
        text-decoration: none;
        display: flex;
        align-items: center;
        padding: 10px;
        border-radius: 5px;
    }

    .custom-icon {
        margin-right: 10px;
    }

    /* Styles for the second card */
    .second-card-container {
        width: 90%; /* Set the width of the second card (8 parts out of 12) */
        height: auto; /* Set the height of the card */
        margin: 20px; /* Provide space on all sides of the card */
        padding: 20px;
        border: 2px solid #d9e7e4; /* Add a border to the card with the same color as the first card */
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(206, 23, 23, 0.1);
        background-color: #fff;
    }

    /* Styles for the nested card */
    .nested-card {
        width: 100%; /* Set the width of the nested card to 100% */
        height: auto; /* Set the height of the nested card to 100% */
        border: 2px solid #d9e7e4;
        padding: 10px;
        box-sizing: border-box; /* Include padding and border in the total width and height */
        border-radius: 9px;
        margin-top: 5px;
       
    }
    .icon{
        margin-left: 97%;
        cursor: pointer;
    position: relative;
    float: right;
    }
    @media screen and (max-width: 600px) {
    .icon,
    .dropdown-content {
        margin-left: 5%;
    }
}
    .dropdown-content {
    display: none;
    padding: 9px 16px;
    background-color: #f9f9f9;
    min-width: 10px;
   
    z-index: 8;
   float: right;
}

/* .dropdown-content a {
    padding: 9px 16px;
    text-decoration: none;
  
    color: #333;
} */

/* .dropdown-content a:hover {
    background-color: #f1f1f1;
    margin-left: 97%;
} */
.submit-btn-1 {
        width: 300%;
        padding: 10px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        background-color: #db6c10;
        color: #fff;
    }

    .submit-btn-1:hover {
        opacity: 0.9;
    }
</style>

<div class="custom-table">
    <div class="custom-column">
        <div class="card-container">
            <div class="custom-cell">
                <nav class="custom-nav">
                    <ul class="custom-menu">
                        <li class="custom-menu-item">
                            <a href="savedAddress" class="custom-menu-link">
                                <i class="zmdi zmdi-accounts-list-alt"></i>&nbsp;
                                <span>Saved Addresses</span>
                            </a>
                            
                            <a href="accountDetails" class="custom-menu-link">
                                <i class="zmdi zmdi-account"></i>&nbsp;
                                <span>Account details</span>
                            </a>
                            <a href="Orders" class="custom-menu-link">
                                <i class="zmdi zmdi-store"></i>&nbsp;
                                <span >Orders</span>
                            </a>
                            <a href="changePassword" class="custom-menu-link">
                                <i class="zmdi zmdi-key"></i>&nbsp;
                                <span >change password</span>
                            </a>
                            <a href="wallet" class="custom-menu-link">
                                <i class="zmdi zmdi-balance-wallet"></i>&nbsp;
                                <span >wallet</span>
                            </a>
                            <a href="refferalOffer" class="custom-menu-link">
                                <i class="zmdi zmdi-code"></i>&nbsp;
                                <span >Refferal Code</span>
                            </a>
                        </li>
                        <!-- Add more menu items as needed -->
                    </ul>
                </nav>
            </div>
        </div>
    </div>
    <div class="custom-column">
        
        

        <div class="second-card-container">
           
            <a  class="submit-btn-1 mt-20 btn-hover-1"  href="addAddress">+ add address</a><br><br>
            <% for (let i = 0; i < userAddr.length; i++) { %>
                
            <div class="nested-card">
                <div class="icon" onclick="toggleDropdown(this)">
                    <i  style="color: black;" class="fa-solid fa-ellipsis-vertical"></i>
                    <!-- Content for the nested card -->
                </div>
                <div class="dropdown-content">
                    <!-- Dropdown content goes here -->
                    <!-- You can add options or additional information -->
                    <a href="editAddress?id=<%= userAddr[i]._id %>" style="color: blue;">edit</a><br>
                    <a href="deleteAddress/<%= userAddr[i]._id %>" style="color: red;">remove</a>
                </div>
    
                    <div style="color: black;">
                        <strong>Name:</strong> <%= userAddr[i].name %><br>
                        <strong>Mobile:</strong> <%= userAddr[i].mobile %><br>
                        <strong>Pincode:</strong> <%= userAddr[i].pincode %><br>
                        <strong>Address:</strong> <%= userAddr[i].address %><br>
                        <strong>City:</strong> <%= userAddr[i].city %><br>
                    </div>
                    
                  
            </div>
            <% } %>
        
        </div>
    </div>
</div>

<script>
    function toggleDropdown(icon) {
        var dropdown = icon.nextElementSibling;
        dropdown.style.display = (dropdown.style.display === "block") ? "none" : "block";
    }

    // Close the dropdown if the user clicks outside of it
    window.onclick = function(event) {
        if (!event.target.matches('.icon')) {
            var dropdowns = document.getElementsByClassName('dropdown-content');
            for (var i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.style.display === 'block') {
                    openDropdown.style.display = 'none';
                }
            }
        }
    }
</script>

<%- include('../layouts/footer.ejs') %>